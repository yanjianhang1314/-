<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>å°æ¥ ä»Šå¤©å¼€å¿ƒå—ï¼Ÿ</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Microsoft YaHei", sans-serif;
}
body {
  background: #fff5f7;
  min-height: 100vh;
  padding: 20px;
  overflow: hidden;
  position: relative;
}
/* ä¸»ä½“å¼¹çª— */
.cat-border {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 4px solid #ffb6c1;
  border-radius: 20px;
  padding: 30px 40px;
  background: #fff;
  min-width: 320px;
  max-width: 500px;
  width: 100%;
  transition: all 0.3s ease;
}
/* é¡¶éƒ¨å°åœ†ç‚¹è£…é¥° */
.cat-border::before,
.cat-border::after {
  content: "";
  position: absolute;
  top: 15px;
  width: 12px;
  height: 12px;
  background: #ffb6c1;
  border-radius: 50%;
}
.cat-border::before { left: 20px; }
.cat-border::after { right: 20px; }
.container {
  text-align: center;
  display: none;
}
/* åˆå§‹é¡µé»˜è®¤æ˜¾ç¤º */
#page1 {
  display: block;
}
.title {
  font-size: 26px;
  color: #e67b8e;
  margin-bottom: 30px;
}
.content-text {
  font-size: 22px;
  color: #e67b8e;
  margin-bottom: 30px;
  line-height: 1.5;
}
.btn-row {
  display: flex;
  justify-content: space-between;
  gap: 20px;
}
.btn {
  padding: 14px 30px;
  font-size: 18px;
  font-weight: bold;
  border: none;
  border-radius: 15px;
  cursor: pointer;
  transition: all 0.3s ease;
  white-space: nowrap;
  flex: 1;
}
.btn-happy {
  background: #ffb6c1;
  color: #fff;
}
.btn-unhappy {
  background: #f0f0f0;
  color: #666;
}
.btn-good {
  background: #ffb6c1;
  color: #fff;
}
.btn-bad {
  background: #f0f0f0;
  color: #666;
}
.result-text {
  font-size: 28px;
  color: #ff8da1;
  line-height: 1.8;
  font-weight: 600;
}
/* ç§»åŠ¨ç«¯é€‚é… */
@media (max-width: 375px) {
  .cat-border {
    padding: 20px 25px;
    min-width: 280px;
  }
  .title {
    font-size: 22px;
    margin-bottom: 25px;
  }
  .content-text {
    font-size: 18px;
  }
  .btn {
    padding: 12px 20px;
    font-size: 16px;
  }
  .result-text {
    font-size: 24px;
  }
}
</style>
</head>
<body>
<!-- ä¸»ä½“å¼¹çª— -->
<div class="cat-border" id="mainPopup">
  <!-- åˆå§‹é¡µï¼šå¼€å¿ƒ/ä¸å¼€å¿ƒ -->
  <div class="container" id="page1">
    <div class="title">å°æ¥ ä»Šå¤©å¼€å¿ƒå—ï¼Ÿ</div>
    <div class="btn-row">
      <button class="btn btn-happy" id="btnHappy">å¼€å¿ƒ</button>
      <button class="btn btn-unhappy" id="btnUnhappy">ä¸å¼€å¿ƒ</button>
    </div>
  </div>
  <!-- å¼€å¿ƒç»“æœé¡µ -->
  <div class="container" id="page2">
    <div class="result-text">é‚£æˆ‘å¸Œæœ›å°æ¥ æ°¸è¿œå¼€å¿ƒ ğŸ’–</div>
  </div>
  <!-- ç¬¬ä¸€æ¬¡å®‰æ…°é¡µï¼šä¸å¼€å¿ƒå°±æ¥æ‰¾æˆ‘èŠå¤© -->
  <div class="container" id="page3">
    <div class="content-text">ä¸å¼€å¿ƒå°±æ¥æ‰¾æˆ‘èŠå¤©å¥½å—ï¼Ÿ</div>
    <div class="btn-row">
      <button class="btn btn-good" id="btnGood">å¥½</button>
      <button class="btn btn-bad" id="btnBad">ä¸å¥½</button>
    </div>
  </div>
  <!-- å¥½çš„ç»“æœé¡µï¼šå¿«å»æ‰¾å—æ°”åŒ…å¶å­èŠå¤© -->
  <div class="container" id="page4">
    <div class="result-text">å¿«å»æ‰¾å—æ°”åŒ…å¶å­èŠå¤©å§ ğŸ˜Š</div>
  </div>
  <!-- ç¬¬äºŒæ¬¡å®‰æ…°é¡µï¼šå°æ¥ ä¸è¦ä¸å¼€å¿ƒäº†å˜› -->
  <div class="container" id="page5">
    <div class="content-text">å°æ¥ ä¸è¦ä¸å¼€å¿ƒäº†å˜›~</div>
  </div>
</div>

<script>
// ä½œè€…ï¼šå¶å­ï¼ˆéšè—æ ‡æ³¨ï¼Œä¸æ˜¾ç¤ºåœ¨ç½‘é¡µï¼‰
const mainPopup = document.getElementById('mainPopup');
// é¡µé¢å®¹å™¨
const page1 = document.getElementById('page1');
const page2 = document.getElementById('page2');
const page3 = document.getElementById('page3');
const page4 = document.getElementById('page4');
const page5 = document.getElementById('page5');
// æŒ‰é’®
const btnHappy = document.getElementById('btnHappy');
const btnUnhappy = document.getElementById('btnUnhappy');
const btnGood = document.getElementById('btnGood');
const btnBad = document.getElementById('btnBad');

// è®¡æ•°ï¼šä¸å¼€å¿ƒç‚¹å‡»æ¬¡æ•°ã€ä¸å¥½ç‚¹å‡»æ¬¡æ•°
let unhappyCount = 0;
let badCount = 0;

// ç‚¹å‡»å¼€å¿ƒ â†’ æ˜¾ç¤ºç»“æœé¡µï¼Œ3ç§’åå›åˆ°åˆå§‹é¡µ
btnHappy.addEventListener('click', () => {
  hideAllPages();
  page2.style.display = 'block';
  setTimeout(() => {
    resetToPage1();
  }, 3000);
});

// ç‚¹å‡»/æ‚¬æµ®â€œä¸å¼€å¿ƒâ€ â†’ é€»è¾‘å¤„ç†
btnUnhappy.addEventListener('click', handleUnhappy);
btnUnhappy.addEventListener('mouseover', movePopup);

// ç‚¹å‡»â€œå¥½â€ â†’ æ˜¾ç¤ºå¶å­èŠå¤©é¡µï¼Œ3ç§’åå›åˆ°åˆå§‹é¡µ
btnGood.addEventListener('click', () => {
  hideAllPages();
  page4.style.display = 'block';
  setTimeout(() => {
    resetToPage1();
  }, 3000);
});

// ç‚¹å‡»/æ‚¬æµ®â€œä¸å¥½â€ â†’ é€»è¾‘å¤„ç†
btnBad.addEventListener('click', handleBad);
btnBad.addEventListener('mouseover', movePopup);

// å¤„ç†â€œä¸å¼€å¿ƒâ€ç‚¹å‡»
function handleUnhappy() {
  unhappyCount++;
  if (unhappyCount >= 3) {
    unhappyCount = 0;
    hideAllPages();
    page3.style.display = 'block';
  } else {
    movePopup();
  }
}

// å¤„ç†â€œä¸å¥½â€ç‚¹å‡»
function handleBad() {
  badCount++;
  if (badCount >= 3) {
    badCount = 0;
    hideAllPages();
    page5.style.display = 'block';
    setTimeout(() => {
      resetToPage1();
    }, 3000);
  } else {
    movePopup();
  }
}

// éšè—æ‰€æœ‰é¡µé¢
function hideAllPages() {
  [page1, page2, page3, page4, page5].forEach(page => {
    page.style.display = 'none';
  });
}

// ç§»åŠ¨å¼¹çª—ï¼ˆé™åˆ¶åœ¨å±å¹•å†…ï¼‰
function movePopup() {
  const popupWidth = mainPopup.offsetWidth;
  const popupHeight = mainPopup.offsetHeight;
  const maxX = window.innerWidth - popupWidth - 20;
  const maxY = window.innerHeight - popupHeight - 20;
  const randomX = Math.max(20, Math.floor(Math.random() * maxX));
  const randomY = Math.max(20, Math.floor(Math.random() * maxY));
  
  mainPopup.style.left = `${randomX}px`;
  mainPopup.style.top = `${randomY}px`;
  mainPopup.style.transform = 'none';
}

// é‡ç½®åˆ°åˆå§‹é¡µï¼ˆåŒ…å«ä½ç½®é‡ç½®ï¼‰
function resetToPage1() {
  hideAllPages();
  page1.style.display = 'block';
  mainPopup.style.left = '50%';
  mainPopup.style.top = '50%';
  mainPopup.style.transform = 'translate(-50%, -50%)';
}
</script>
<!-- ä½œè€…æ ‡æ³¨ï¼šä»…å­˜åœ¨äºä»£ç ä¸­ï¼Œç½‘é¡µä¸æ˜¾ç¤º -->
<!-- ä½œè€…ï¼šå¶å­ -->
</body>
</html>
